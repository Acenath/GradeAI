{% extends "teacher_course_base.html" %}

{% block title %}Assignment Creation - Gradia{% endblock %}

{% block page_title %}Assignments{% endblock %}

{% block content %}
<div class="assignments-container">
    <!-- Create New Assignment Button -->
    <div class="create-assignment">
        <button class="btn btn-primary" id="createAssignmentBtn">
            <i class="fas fa-plus"></i> Create New Assignment
        </button>
    </div>

    <!-- Assignments List -->
    <div class="assignments-list">
        <!-- Example assignment items -->
        <div class="assignment-item">
            <div class="assignment-header">
                <h4>Assignment 1 - Introduction to Programming</h4>
                <span class="assignment-date">Due: March 20, 2024</span>
            </div>
            <div class="assignment-content">
                <p>Basic programming concepts and problem-solving techniques.</p>
                <div class="assignment-stats">
                    <span><i class="fas fa-users"></i> 25 Submissions</span>
                    <span><i class="fas fa-check-circle"></i> 18 Graded</span>
                </div>
            </div>
            <div class="assignment-footer">
                <a href="{{ url_for('assignment_view_teacher', course_code=course_code, assignment_id=1) }}" class="btn btn-primary">View</a>
                <button class="btn btn-secondary">Edit</button>
            </div>
        </div>

        <div class="assignment-item">
            <div class="assignment-header">
                <h4>Assignment 2 - Data Structures</h4>
                <span class="assignment-date">Due: March 27, 2024</span>
            </div>
            <div class="assignment-content">
                <p>Implementation of basic data structures and algorithms.</p>
                <div class="assignment-stats">
                    <span><i class="fas fa-users"></i> 15 Submissions</span>
                    <span><i class="fas fa-check-circle"></i> 10 Graded</span>
                </div>
            </div>
            <div class="assignment-footer">
                <a href="{{ url_for('assignment_view_teacher', course_code=course_code, assignment_id=2) }}" class="btn btn-primary">View</a>
                <button class="btn btn-secondary">Edit</button>
            </div>
        </div>
    </div>

    <!-- Assignment Creation Form (Hidden by default) -->
    <div class="assignment-form" id="assignmentForm" style="display: none;">
        <h3 class="text-center fw-bold mb-4">Create New Assignment</h3>

        <!-- Description -->
        <div class="section-box">
            <div class="section-title">Description</div>
            <textarea rows="4" placeholder="Enter assignment description..."></textarea>
        </div>

        <!-- Attachments -->
        <div class="section-box">
            <div class="section-title">Attachments</div>
            <div class="text-center">
                <i class="fas fa-upload fa-2x mb-2"></i>
                <div>Drag or click to upload</div>
            </div>
        </div>

        <!-- Rubrics -->
        <div class="section-box">
            <div class="section-title">Rubrics</div>
            <div class="rubric-entry">
                <textarea rows="2" placeholder="Rubric 1 description..."></textarea>
                <input type="number" placeholder="%" max="100" min="0" />
            </div>
            <div class="rubric-entry">
                <textarea rows="2" placeholder="Rubric 2 description..."></textarea>
                <input type="number" placeholder="%" max="100" min="0" />
            </div>
            <div class="rubric-entry">
                <textarea rows="2" placeholder="Rubric 3 description..."></textarea>
                <input type="number" placeholder="%" max="100" min="0" />
            </div>
        </div>

        <!-- Footer Fields -->
        <div class="section-box">
            <div class="footer-fields">
                <input type="date" placeholder="Due Date" />
                <select>
                    <option>Any</option>
                    <option>PDF</option>
                    <option>DOCX</option>
                </select>
                <input type="number" placeholder="Max File No" min="1" />
            </div>
        </div>

        <!-- Create Button -->
        <button class="create-btn">Create</button>
    </div>
</div>

{% block extra_js %}
<script>
    document.getElementById('createAssignmentBtn').addEventListener('click', function() {
        const form = document.getElementById('assignmentForm');
        form.style.display = form.style.display === 'none' ? 'block' : 'none';
    });
</script>
{% endblock %}
{% endblock %}
